# STM32F1与W5500动态获取IP地址的资源文件

## 简介

本仓库提供了一个名为`STM32F1_W5500.zip`的资源文件，该文件包含了在STM32F1系列微控制器上使用W5500以太网模块进行动态获取IP地址的相关代码和配置文件。

## 背景

在开发过程中，作者在使用W5500模块进行动态获取IP地址时遇到了两个主要问题：

1. **MAC地址问题**：最初作者将STM32的CPU ID号作为W5500的MAC地址，这导致了部分板子无法成功动态获取IP地址。经过调试发现，MAC地址的第一个字节必须是偶数，否则会导致DHCP失败。

2. **DHCP偶尔失败问题**：在解决了MAC地址问题后，作者发现DHCP偶尔会失败。经过深入调试和代码跟踪，发现这是官方例程代码中的一个潜在问题。

## 解决方案

本资源文件中包含了针对上述问题的解决方案和优化后的代码。通过使用本资源文件，您可以避免在动态获取IP地址时遇到的常见问题，并确保DHCP的稳定性和可靠性。

## 使用说明

1. **下载资源文件**：点击[这里](STM32F1_W5500.zip)下载资源文件。
2. **解压文件**：将下载的`STM32F1_W5500.zip`文件解压到您的项目目录中。
3. **集成代码**：将解压后的代码文件集成到您的STM32F1项目中。
4. **配置MAC地址**：确保在代码中正确配置W5500的MAC地址，MAC地址的第一个字节必须是偶数。
5. **测试DHCP**：编译并烧录代码到STM32F1开发板，测试DHCP功能，确保每次都能成功获取IP地址。

## 注意事项

- 请确保您的STM32F1开发板和W5500模块的硬件连接正确。
- 在配置MAC地址时，务必遵循MAC地址的规范，特别是第一个字节必须是偶数。
- 如果在使用过程中遇到任何问题，欢迎在仓库中提交Issue，作者将尽力提供帮助。

## 许可证

本资源文件遵循MIT许可证，您可以自由使用、修改和分发本资源文件，但请保留原作者的版权声明。

## 联系作者

如果您有任何问题或建议，欢迎通过以下方式联系作者：

- 邮箱：[your-email@example.com]
- GitHub：[your-github-username]

感谢您的使用和支持！

## 下载链接
[STM32F1与W5500动态获取IP地址的资源文件](https://pan.quark.cn/s/4d9caa3f2bc0) 

(备用: [备用下载](https://pan.baidu.com/s/1CEtE0tA-mIa72bgVrGKy3g?pwd=1234))

## 说明

该仓库仅用于学习交流，请勿用于商业用途。
